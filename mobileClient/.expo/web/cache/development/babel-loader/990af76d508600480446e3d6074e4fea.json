{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\royli\\\\Desktop\\\\FittoApp\\\\src\\\\Screens\\\\ProductScreen.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Products from \"../components/Products\";\nvar firstLoading = true;\n\nvar ProductScreen = function ProductScreen() {\n  var backendURL = \"https://sheltered-woodland-33515.herokuapp.com/\";\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      amount = _useState4[0],\n      setAmount = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ProductItems = _useState6[0],\n      setProductsItems = _useState6[1];\n\n  {}\n\n  var handleAddProduct = function handleAddProduct() {\n    Keyboard.dismiss();\n    {}\n\n    var updatedItems = _toConsumableArray(ProductItems).sort(function (item1, item2) {\n      return item2.id - item1.id;\n    });\n\n    var newID = updatedItems.length === 0 ? 0 : updatedItems[0].id + 1;\n    var newItem = {\n      name: product,\n      id: newID,\n      qty: amount,\n      bought: false\n    };\n    updatedItems.unshift(newItem);\n    setProductsItems(updatedItems);\n    setProduct(null);\n    setAmount(0);\n  };\n\n  {}\n\n  var completeProduct = function completeProduct(index) {\n    var itemsCopy = _toConsumableArray(ProductItems);\n\n    itemsCopy.splice(index, 1);\n    setProductsItems(itemsCopy);\n  };\n\n  {}\n\n  var handleBought = function handleBought(index) {\n    var updatedItems = _toConsumableArray(ProductItems);\n\n    var specificItem = updatedItems.filter(function (item) {\n      return item.id === index;\n    })[0];\n    var foundInd = updatedItems.indexOf(specificItem);\n    specificItem.bought = !specificItem.bought;\n    updatedItems[foundInd] = specificItem;\n    setProductsItems(updatedItems);\n  };\n\n  useEffect(function () {\n    if (firstLoading === true) {\n      fetch(backendURL).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        setProductsItems(json.items);\n        firstLoading = false;\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    }\n  });\n\n  var pushToBackend = function pushToBackend() {\n    fetch(backendURL, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        items: ProductItems\n      })\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: {\n      flexGrow: 1\n    },\n    keyboardShouldPersistTaps: \"handled\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.ProductsWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.sectionTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, \"Shopping list\"), React.createElement(View, {\n    style: styles.items,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, ProductItems.map(function (item, index) {\n    return React.createElement(TouchableOpacity, {\n      key: index,\n      onPress: function onPress() {\n        return completeProduct(index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, React.createElement(Products, {\n      id: item.id,\n      text: item.name,\n      qty: item.qty,\n      bought: item.bought,\n      onBought: handleBought,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }));\n  })))), React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: styles.writeProductWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputProduct,\n    placeholder: \"Write a product\",\n    value: product,\n    onChangeText: function onChangeText(text) {\n      return setProduct(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputAmount,\n    placeholder: \"Amount\",\n    keyboardType: \"numeric\",\n    value: amount,\n    onChangeText: function onChangeText(amount) {\n      return setAmount(Number(amount));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleAddProduct();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.addWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.addText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, \"+\")))), React.createElement(SafeAreaView, {\n    style: {\n      bottom: 50\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    title: \"Confirm Changes\",\n    onPress: function onPress() {\n      return pushToBackend();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ProductScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#E8EAED\"\n  },\n  ProductsWrapper: {\n    paddingTop: 80,\n    paddingHorizontal: 20\n  },\n  sectionTitle: {\n    fontSize: 24,\n    fontWeight: \"bold\"\n  },\n  items: {\n    marginTop: 30\n  },\n  writeProductWrapper: {\n    position: \"absolute\",\n    bottom: 100,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\"\n  },\n  inputProduct: {\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n    width: 220\n  },\n  inputAmount: {\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n    width: 100\n  },\n  addWrapper: {\n    width: 60,\n    height: 60,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1\n  }\n});","map":{"version":3,"sources":["C:/Users/royli/Desktop/FittoApp/src/Screens/ProductScreen.js"],"names":["React","useState","useEffect","Products","firstLoading","ProductScreen","backendURL","product","setProduct","amount","setAmount","ProductItems","setProductsItems","handleAddProduct","Keyboard","dismiss","updatedItems","sort","item1","item2","id","newID","length","newItem","name","qty","bought","unshift","completeProduct","index","itemsCopy","splice","handleBought","specificItem","filter","item","foundInd","indexOf","fetch","then","response","json","items","catch","error","console","pushToBackend","method","headers","Accept","body","JSON","stringify","log","styles","container","flexGrow","ProductsWrapper","sectionTitle","map","Platform","OS","writeProductWrapper","inputProduct","text","inputAmount","Number","addWrapper","addText","bottom","StyleSheet","create","flex","backgroundColor","paddingTop","paddingHorizontal","fontSize","fontWeight","marginTop","position","width","flexDirection","justifyContent","alignItems","paddingVertical","borderRadius","borderColor","borderWidth","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport {\n  KeyboardAvoidingView,\n  Button,\n  StyleSheet,\n  Text,\n  View,\n  TextInput,\n  TouchableOpacity,\n  Keyboard,\n  ScrollView,\n  SafeAreaView,\n} from \"react-native\";\n\nimport Products from \"../components/Products\";\n\nlet firstLoading = true;\n\nconst ProductScreen = () => {\n  const backendURL = \"https://sheltered-woodland-33515.herokuapp.com/\";\n\n  const [product, setProduct] = useState();\n  const [amount, setAmount] = useState();\n  const [ProductItems, setProductsItems] = useState([]);\n\n  {\n    /* Adding a product function */\n  }\n  const handleAddProduct = () => {\n    Keyboard.dismiss();\n\n    {\n      /* Sort the items by id size, and then make the new id larger than all of them */\n    }\n    let updatedItems = [...ProductItems].sort((item1, item2) => {\n      return item2.id - item1.id;\n    });\n\n    const newID = updatedItems.length === 0 ? 0 : updatedItems[0].id + 1;\n\n    let newItem = {\n      name: product,\n      id: newID,\n      qty: amount,\n      bought: false,\n    };\n\n    updatedItems.unshift(newItem);\n    setProductsItems(updatedItems);\n    setProduct(null);\n    setAmount(0);\n  };\n\n  {\n    /* Deleting a product function */\n  }\n  const completeProduct = (index) => {\n    let itemsCopy = [...ProductItems];\n    itemsCopy.splice(index, 1);\n    setProductsItems(itemsCopy);\n  };\n\n  {\n    /* Changing is bought option from list function */\n  }\n  const handleBought = (index) => {\n    let updatedItems = [...ProductItems];\n    let specificItem = updatedItems.filter((item) => item.id === index)[0];\n    const foundInd = updatedItems.indexOf(specificItem);\n    specificItem.bought = !specificItem.bought;\n    updatedItems[foundInd] = specificItem;\n    setProductsItems(updatedItems);\n  };\n\n  // Upon entering this component into the dom, fetch data and update accordingly\n  useEffect(() => {\n    if (firstLoading === true) {\n      fetch(backendURL)\n        .then((response) => response.json())\n        .then((json) => {\n          setProductsItems(json.items);\n          firstLoading = false;\n        })\n        .catch((error) => console.error(error));\n    }\n  });\n\n  // Calls the backend\n  const pushToBackend = () => {\n    fetch(backendURL, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ items: ProductItems }),\n    })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  return (\n    <View style={styles.container}>\n      {/* Added this scroll view to enable scrolling when list gets longer than the page */}\n      <ScrollView\n        contentContainerStyle={{\n          flexGrow: 1,\n        }}\n        keyboardShouldPersistTaps=\"handled\"\n      >\n        <View style={styles.ProductsWrapper}>\n          <Text style={styles.sectionTitle}>Shopping list</Text>\n          <View style={styles.items}>\n            {/* This is where the Products will go! */}\n            {ProductItems.map((item, index) => {\n              return (\n                <TouchableOpacity\n                  key={index}\n                  onPress={() => completeProduct(index)}\n                >\n                  <Products\n                    id={item.id}\n                    text={item.name}\n                    qty={item.qty}\n                    bought={item.bought}\n                    onBought={handleBought}\n                  />\n                </TouchableOpacity>\n              );\n            })}\n          </View>\n        </View>\n      </ScrollView>\n\n      {/* Write a Product */}\n      {/* Uses a keyboard avoiding view which ensures the keyboard does not cover the items on screen */}\n      <KeyboardAvoidingView\n        behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n        style={styles.writeProductWrapper}\n      >\n        <TextInput\n          style={styles.inputProduct}\n          placeholder={\"Write a product\"}\n          value={product}\n          onChangeText={(text) => setProduct(text)}\n        />\n        <TextInput\n          style={styles.inputAmount}\n          placeholder={\"Amount\"}\n          keyboardType=\"numeric\"\n          value={amount}\n          onChangeText={(amount) => setAmount(Number(amount))}\n        />\n        <TouchableOpacity onPress={() => handleAddProduct()}>\n          <View style={styles.addWrapper}>\n            <Text style={styles.addText}>+</Text>\n          </View>\n        </TouchableOpacity>\n      </KeyboardAvoidingView>\n      <SafeAreaView style={{ bottom: 50 }}>\n        <Button title=\"Confirm Changes\" onPress={() => pushToBackend()} />\n      </SafeAreaView>\n    </View>\n  );\n};\n\nexport default ProductScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#E8EAED\",\n  },\n  ProductsWrapper: {\n    paddingTop: 80,\n    paddingHorizontal: 20,\n  },\n  sectionTitle: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n  },\n  items: {\n    marginTop: 30,\n  },\n  writeProductWrapper: {\n    position: \"absolute\",\n    bottom: 100,\n    width: \"100%\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n  },\n  inputProduct: {\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n    width: 220,\n  },\n  inputAmount: {\n    paddingVertical: 15,\n    paddingHorizontal: 15,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n    width: 100,\n  },\n  addWrapper: {\n    width: 60,\n    height: 60,\n    backgroundColor: \"#FFF\",\n    borderRadius: 60,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderColor: \"#C0C0C0\",\n    borderWidth: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}